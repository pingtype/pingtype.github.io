/*!
 * ZinoUI v1.4 (http://zinoui.com)
 * Copyright 2012-2013 Dimitar Ivanov. All Rights Reserved.
 *
 * Zino UI commercial licenses may be obtained at http://zinoui.com/license
 * If you do not own a commercial license, this file shall be governed by the
 * GNU General Public License (GPL) version 3.
 * For GPL requirements, please review: http://www.gnu.org/copyleft/gpl.html
 */
(function(h,m){function g(a){if(!(this instanceof g))return new g(a);this.target=a.target;this.width=a.width;this.height=a.height;this.context=this.canvas=null;this.rad=Math.PI/180;this._init.call(this)}var n=h.document;g.copyPixLCD=function(a,b,c){var d,e,f,k=a.getContext("2d"),q=a.width;a=k.getImageData(0,0,q,a.height);var k=b.getContext("2d"),g=b.width,h=b.height,p=k.getImageData(0,0,g,h),l=0.5*(1-c),m=c+l,n=l+l+c;for(f=0;f<h;f++)for(e=1;e<g-1;e++)b=4*(f*q+3*e),d=4*(f*g+e),p.data[d+0]=Math.round(c*
a.data[b+0]+l*(a.data[b-4]+a.data[b+4])),p.data[d+1]=Math.round(c*a.data[b+5]+l*(a.data[b+1]+a.data[b+9])),p.data[d+2]=Math.round(c*a.data[b+10]+l*(a.data[b+6]+a.data[b+14])),p.data[d+3]=Math.round(0.3333*(n*a.data[b+7]+m*(a.data[b+3]+a.data[b+11])+l*(a.data[b-1]+a.data[b+15])));k.putImageData(p,0,0)};g.prototype={_init:function(){this.canvas=n.createElement("canvas");this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",this.height);this.context=this.canvas.getContext("2d");
this.target.appendChild(this.canvas);return this},arc:function(a,b,c,d,e){5===arguments.length?this.context.arc(a,b,c,d,e):this.context.arc(a,b,c,d,e,arguments[5]);return this},arcTo:function(a,b,c,d,e){5===arguments.length?this.context.arcTo(a,b,c,d,e):this.context.arcTo(a,b,c,d,e,arguments[5],arguments[6]);return this},attr:function(a){if(2===arguments.length)return this.context[a]=arguments[1],this;for(var b in a)a.hasOwnProperty(b)&&(this.context[b]=a[b]);return this},begin:function(){this.context.beginPath();
return this},bezierCurveTo:function(a,b,c,d,e,f){this.context.bezierCurveTo(a,b,c,d,e,f);return this},circle:function(a,b,c){return this.arc(a,b,c,0,360*this.rad,!1)},clear:function(){this.context.clearRect(0,0,this.width,this.height);return this},bind:function(a,b){var c=this;this.canvas.addEventListener(a,function(a){return b.call(c,a,this)});return this},clip:function(){this.context.clip();return this},close:function(){this.context.closePath();return this},commit:function(){this.context.commit();
return this},ellipse:function(a,b,c,d){var e=2*c,f=2*d;d=e/2*0.5522848;c=f/2*0.5522848;var k=a+e,g=b+f,e=a+e/2,f=b+f/2;this.moveTo(a,f).bezierCurveTo(a,f-c,e-d,b,e,b).bezierCurveTo(e+d,b,k,f-c,k,f).bezierCurveTo(k,f+c,e+d,g,e,g).bezierCurveTo(e-d,g,a,f+c,a,f);return this},fill:function(){this.context.fill();return this},fillRect:function(a,b,c,d){this.context.fillRect(a,b,c,d);return this},getContext:function(){return this.context},image:function(a,b,c){var d=this,e=arguments,f=new Image;f.onload=
function(){switch(e.length){case 3:d.context.drawImage(f,b,c);break;case 5:d.context.drawImage(f,b,c,e[3],e[4]);break;case 9:d.context.drawImage(f,b,c,e[3],e[4],e[5],e[6],e[7],e[8])}};f.src=a;return this},line:function(a,b,c,d){this.begin().moveTo(a,b).lineTo(c,d).stroke();return this},linearGradient:function(a,b,c,d){return this.context.createLinearGradient(a,b,c,d)},lineTo:function(a,b){this.context.lineTo(a,b);return this},measureText:function(a){return this.context.measureText(a)},moveTo:function(a,
b){this.context.moveTo(a,b);return this},path:function(a){var b,c,d=[];b=a.split(/M|L|Z/);a=0;for(c=b.length;a<c;a++)0<b[a].length&&""!==b[a]&&d.push(b[a]);this.begin().moveTo(d[0].split(",")[0],d[0].split(",")[1]);a=0;for(c=d.length;a<c;a++)b=d[a].split(","),0<a&&this.lineTo(b[0],b[1]);this.fill().stroke();return this},pattern:function(a,b,c){var d=this,e=new Image;e.onload=function(){var a=d.context.createPattern(e,b);"function"===typeof c&&c.call(null,a)};e.src=a;return this},quadraticCurveTo:function(a,
b,c,d){this.context.quadraticCurveTo(a,b,c,d);return this},radialGradient:function(a,b,c,d,e,f){return this.context.createRadialGradient(a,b,c,d,e,f)},rect:function(a,b,c,d){this.context.rect(a,b,c,d);return this},resetClip:function(){this.context.resetClip();return this},resetTransform:function(){this.context.resetTransform();return this},restore:function(){this.context.restore();return this},rose:function(a,b,c,d,e,f,g,h,m,n){a=["M",a,",",b," A",c,",",c," 0 0,1 ",d,",",e," L",f,",",g," A",h,",",
h," 0 0,0 ",m,",",n," Z"].join("");return this.path(a)},rotate:function(a){this.context.rotate(a);return this},save:function(){this.context.save();return this},scale:function(a,b){this.context.scale(a,b);return this},sector:function(a,b,c,d,e){this.save().begin().moveTo(a,b).arc(a,b,c,(d*this.rad).toFixed(2),(e*this.rad).toFixed(2)).lineTo(a,b).close().fill().stroke().restore();return this},setLineDash:function(a){if(!this.context.setLineDash)return this;this.context.setLineDash(a);return this},setTransform:function(a,
b,c,d,e,f){this.context.setTransform(a,b,c,d,e,f);return this},stroke:function(){this.context.stroke();return this},strokeRect:function(a,b,c,d){this.context.strokeRect(a,b,c,d);return this},text:function(a,b,c){var d="fill";this.context.strokeStyle!==m&&(d="stroke");4===arguments.length&&arguments[3]!==m?(this.context.fillText(a,b,c,arguments[3]),"stroke"==d&&this.context.strokeText(a,b,c,arguments[3])):(this.context.fillText(a,b,c),"stroke"==d&&this.context.strokeText(a,b,c));return this},transform:function(a,
b,c,d,e,f){this.context.transform(a,b,c,d,e,f);return this},translate:function(a,b){this.context.translate(a,b);return this}};h.zino=h.zino||{};h.zino.Canvas=g})(window);